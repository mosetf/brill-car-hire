#!/bin/bash

# Ensure the script stops if any command fails
set -e

# Function to create a commit with a specific message and date
create_commit() {
  local message=$1
  local date=$2

  # Make a dummy change
  echo "$message" > dummy_file.txt

  # Add the change to the staging area
  git add dummy_file.txt

  # Commit the change with the specified date
  GIT_COMMITTER_DATE="$date" git commit --date="$date" -m "$message"
}

# Array of commit messages and dates to draw "HELLO"
commits=(
  "H|2022-01-01T12:00:00"
  "H|2022-01-02T12:00:00"
  "H|2022-01-03T12:00:00"
  "H|2022-01-04T12:00:00"
  "H|2022-01-05T12:00:00"
  "H|2022-01-06T12:00:00"
  "H|2022-01-07T12:00:00"
  "H|2022-01-08T12:00:00"
  "H|2022-01-09T12:00:00"
  "H|2022-01-10T12:00:00"
  "H|2022-01-11T12:00:00"
  "H|2022-01-12T12:00:00"
  "H|2022-01-13T12:00:00"
  "H|2022-01-14T12:00:00"
  "H|2022-01-15T12:00:00"
  "H|2022-01-16T12:00:00"
  "H|2022-01-17T12:00:00"
  "H|2022-01-18T12:00:00"
  "H|2022-01-19T12:00:00"
  "H|2022-01-20T12:00:00"
  "H|2022-01-21T12:00:00"
  "H|2022-01-22T12:00:00"
  "H|2022-01-23T12:00:00"
  "H|2022-01-24T12:00:00"
  "H|2022-01-25T12:00:00"
  "H|2022-01-26T12:00:00"
  "H|2022-01-27T12:00:00"
  "H|2022-01-28T12:00:00"
  "H|2022-01-29T12:00:00"
  "H|2022-01-30T12:00:00"
  "H|2022-01-31T12:00:00"
  "E|2022-02-01T12:00:00"
  "E|2022-02-02T12:00:00"
  "E|2022-02-03T12:00:00"
  "E|2022-02-04T12:00:00"
  "E|2022-02-05T12:00:00"
  "E|2022-02-06T12:00:00"
  "E|2022-02-07T12:00:00"
  "E|2022-02-08T12:00:00"
  "E|2022-02-09T12:00:00"
  "E|2022-02-10T12:00:00"
  "E|2022-02-11T12:00:00"
  "E|2022-02-12T12:00:00"
  "E|2022-02-13T12:00:00"
  "E|2022-02-14T12:00:00"
  "E|2022-02-15T12:00:00"
  "E|2022-02-16T12:00:00"
  "E|2022-02-17T12:00:00"
  "E|2022-02-18T12:00:00"
  "E|2022-02-19T12:00:00"
  "E|2022-02-20T12:00:00"
  "E|2022-02-21T12:00:00"
  "E|2022-02-22T12:00:00"
  "E|2022-02-23T12:00:00"
  "E|2022-02-24T12:00:00"
  "E|2022-02-25T12:00:00"
  "E|2022-02-26T12:00:00"
  "E|2022-02-27T12:00:00"
  "E|2022-02-28T12:00:00"
  "L|2022-03-01T12:00:00"
  "L|2022-03-02T12:00:00"
  "L|2022-03-03T12:00:00"
  "L|2022-03-04T12:00:00"
  "L|2022-03-05T12:00:00"
  "L|2022-03-06T12:00:00"
  "L|2022-03-07T12:00:00"
  "L|2022-03-08T12:00:00"
  "L|2022-03-09T12:00:00"
  "L|2022-03-10T12:00:00"
  "L|2022-03-11T12:00:00"
  "L|2022-03-12T12:00:00"
  "L|2022-03-13T12:00:00"
  "L|2022-03-14T12:00:00"
  "L|2022-03-15T12:00:00"
  "L|2022-03-16T12:00:00"
  "L|2022-03-17T12:00:00"
  "L|2022-03-18T12:00:00"
  "L|2022-03-19T12:00:00"
  "L|2022-03-20T12:00:00"
  "L|2022-03-21T12:00:00"
  "L|2022-03-22T12:00:00"
  "L|2022-03-23T12:00:00"
  "L|2022-03-24T12:00:00"
  "L|2022-03-25T12:00:00"
  "L|2022-03-26T12:00:00"
  "L|2022-03-27T12:00:00"
  "L|2022-03-28T12:00:00"
  "O|2022-04-01T12:00:00"
  "O|2022-04-02T12:00:00"
  "O|2022-04-03T12:00:00"
  "O|2022-04-04T12:00:00"
  "O|2022-04-05T12:00:00"
  "O|2022-04-06T12:00:00"
  "O|2022-04-07T12:00:00"
  "O|2022-04-08T12:00:00"
  "O|2022-04-09T12:00:00"
  "O|2022-04-10T12:00:00"
  "O|2022-04-11T12:00:00"
  "O|2022-04-12T12:00:00"
  "O|2022-04-13T12:00:00"
  "O|2022-04-14T12:00:00"
  "O|2022-04-15T12:00:00"
  "O|2022-04-16T12:00:00"
  "O|2022-04-17T12:00:00"
  "O|2022-04-18T12:00:00"
  "O|2022-04-19T12:00:00"
  "O|2022-04-20T12:00:00"
  "O|2022-04-21T12:00:00"
  "O|2022-04-22T12:00:00"
  "O|2022-04-23T12:00:00"
  "O|2022-04-24T12:00:00"
  "O|2022-04-25T12:00:00"
  "O|2022-04-26T12:00:00"
  "O|2022-04-27T12:00:00"
  "O|2022-04-28T12:00:00"
  "O|2022-04-29T12:00:00"
  "O|2022-04-30T12:00:00"
)

# Loop through the commits array and create each commit
for commit in "${commits[@]}"; do
  IFS='|' read -r message date <<< "$commit"
  create_commit "$message" "$date"
  git push origin main
done

# Clean up the dummy file
rm dummy_file.txt